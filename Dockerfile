FROM node:14.13.0-alpine3.12
LABEL maintainer="Daniel Rataj <daniel.rataj@centrum.cz>"
LABEL org.opencontainers.image.source="https://github.com/whoopsmonitor/whoopsmonitor-alert-teams"
LABEL com.whoopsmonitor.documentation="https://github.com/whoopsmonitor/whoopsmonitor-alert-teams"
LABEL com.whoopsmonitor.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAC8ElEQVRoge2ZT0hUURSHv3PnJY5moJtAqF1U87TN5KIgMgnaCBkhSLmshRZtbGEbUyhc1aYGW+e0aplGBWVS4KKWZRgtKxCpZZn67mkxozydP75xZpwnzgdvZs6bc8+7vznn3rn3PahSZXcj5QjaPfy5pm5h/pCnkThiY4K4KsSTD9ubS30tp5jG7cNTTvO8czAinqtG46jEAJeFhSMexiAKCAqkXkpPYAE9198318hyzKpxVTVuRGK6oC7Gq011sCzJ3JQMAZf63jU6suKqMTGr6goSBz2GrjRYFUARQLVMP2mBZAgwxvttEVBND5BwdDQXptIdKJaiBvFW6e17cxhjRoGzACivUTuYHOuYKzRWZTJgzAxwAWgAGhC6MGamp3/6QMGhSt65YDRmO+eI3is0UEVKKA/n/Mbla1OdggwBMWAWa0eSYx2Tfp+wDeK1KS/d+WdAG1APtGHMRO/1qS5/g7AJeLn6QZDb2RxE5ZbfDlxC+xr2UBd11h31dan3aNShPuoQjUaoizrcf/QpbyyB3wpNG07/UqMDPvtwtrYKR7ckIDF6MqjrpgiRE1a8UdH0NAov1OjAkwdnvvvc5oDjmW354rcrMogfJ059BS7mdbJ2GGMmMr+QEb8VWMD4028sr1j+/F3B85QbV1wkvX4bvPOBxX9e6lj0gobMS3KsY7K3702nGDOkEBOYBRkZT5x+viUBr6Z/rLNVFUkr+Dn/h0LWdr3X3ub0Tiba15a16SlzMpcvhG8WKpgdL6Akg7gcW4OgZbbjM1AVUOmdZTUDlWb3ClhaskDlb69s+X/g6s33ABizvTe0FGb8dtElZO22ZsCKtXf9J3bKGFgCPip6fuOeOFSben95+JcL+QhTBjLKIwhhEJCzPIJQkRIKWh5BCEMGimLHC8goIWsjTVkfcKRuxIaOwLWY9RGTqgvUBo1RytpfpaiAOR/ywRGylGfoBOSiu39qb62oq0grSgtiWkBbk4n2/eW4XpUqu5n/fnD99O15Nh8AAAAASUVORK5CYII="
LABEL com.whoopsmonitor.env.WM_WEBHOOK_URL="Teams's webhook URL"

WORKDIR /app
COPY ./src/index.js ./index.js
COPY ./src/package.json ./package.json
COPY ./src/package-lock.json ./package-lock.json

RUN npm install

CMD [ "npm", "start", "--silent" ]
